<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spitmed - Medicine Reminder</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <div class="logo">Spitmed</div>
        <div class="nav-links">
            <a href="notification-settings.html">Notifications</a>
            <a href="#home">Home</a>
            <a href="#about">About us</a>
            <a href="#contact">Contact</a>
        </div>
        <div class="search-container">
            <input type="search" placeholder="Search here">
        </div>
        <div class="auth-buttons">
            <button id="loginBtn" onclick="showPage('login')" class="btn secondary">Login</button>
            <button id="logoutBtn" onclick="logout()" class="btn secondary" style="display: none;">Logout</button>
        </div>
    </nav>

    <main>
        <section id="home" class="page active">
            <div class="content">
                <img src="https://img.freepik.com/free-vector/world-blood-donor-day-stickers-hand-drawn-doodle-coloring-vector_179234-526.jpg?t=st=1739612907~exp=1739616507~hmac=ea16987865b85fb21f1fd61757ae6eda4777c617807006f2b4f959587548d7dc&w=740" alt="Medical illustration" class="illustration">
                <div class="text-content">
                    <h1>Welcome</h1>
                    <p>Spitmed is designed to simplify health management by ensuring users never miss a dose. Tailored for individuals with busy schedules or complex medication routines, it allows users to set personalized reminders for specific medicines, including dosage, timing, and frequency.</p>
                    <button id="getStartedBtn" onclick="showPage('register')" class="btn primary">Next</button>
                </div>
            </div>
        </section>

        <!-- New Login Section -->
        <section id="login" class="page">
            <div class="form-content">
                <div class="form-fields">
                    <h1>Login to Your Account</h1>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" placeholder="your@email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" placeholder="Your password" required>
                        </div>
                        <button type="submit" class="btn primary">Login</button>
                    </form>
                    <p>Don't have an account? <a href="#" onclick="showPage('register')">Register here</a></p>
                </div>
                <img src="https://img.freepik.com/free-vector/access-control-system-illustration_335657-4640.jpg?t=st=1739614166~exp=1739617766~hmac=f94c2e456c3ee4c6326cecefb7cbdb31d1fa84c610a35023f2a1c12b6a2b99ba&w=740" alt="Login illustration" class="illustration">
            </div>
        </section>

        <section id="register" class="page">
            <form id="registerForm">
                <div class="form-content">
                    <div class="form-fields">
                        <h1>Create an Account</h1>
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" id="name" placeholder="Your name" required>
                        </div>
                        <div class="form-group">
                            <label for="age">Age</label>
                            <input type="number" id="age" placeholder="Your age" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" placeholder="your@email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Ph No.</label>
                            <input type="tel" id="phone" placeholder="Your phone number" required>
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" id="password" placeholder="Create a password" required>
                        </div>
                        <p>Already have an account? <a href="#" onclick="showPage('login')">Login here</a></p>
                        <button type="submit" class="btn primary">Register</button>
                    </div>
                    <img src="https://img.freepik.com/free-vector/doctor-blank-clipboard-with-modern-stethoscope-hand-drawn-sketch-vector-illustration_460848-14782.jpg?t=st=1739614166~exp=1739617766~hmac=f94c2e456c3ee4c6326cecefb7cbdb31d1fa84c610a35023f2a1c12b6a2b99ba&w=740" alt="Doctor illustration" class="illustration">
                </div>
            </form>
        </section>

        <section id="medicine" class="page">
            <div class="content">
                <img src="https://img.freepik.com/free-vector/diabetes-medications-abstract-concept-vector-illustration-diabetes-mellitus-therapy-disease-treatment-insulin-injection-syringe-needle-medical-capsule-diabetic-diet-abstract-metaphor_335657-6066.jpg?t=st=1739614262~exp=1739617862~hmac=1999d1eaec8be81c7825f80b04bdcb3f80c46ce2c5c211421fd54e90f1e45855&w=740" alt="Medical illustration" class="illustration">
                <form id="medicineForm">
                    <div class="form-group">
                        <label for="medicineName">Name of Medicine</label>
                        <input type="text" id="medicineName" placeholder="Medicine name" required>
                    </div>
                    <div class="form-group">
                        <label for="medicineTime">Time to Take</label>
                        <input type="time" id="medicineTime" required>
                    </div>
                    <div class="form-group">
                        <label for="startDate">Starting Date</label>
                        <input type="date" id="startDate" required>
                    </div>
                    <div class="form-group">
                        <label for="endDate">Ending Date</label>
                        <input type="date" id="endDate" required>
                    </div>
                    <button type="submit" class="btn primary">Set Reminder</button>
                </form>
            </div>
        </section>

        <section id="success" class="page">
            <h1>ALL SET GOOD TO GO</h1>
            <div class="button-grid">
                <button onclick="displayUpcomingReminders()" class="btn secondary">Upcoming Reminder</button>
                <button class="btn secondary">History of Med Cycle</button>
                <button onclick="showPage('home')" class="btn secondary">Go Back</button>
            </div>
        </section>

        <!-- User Profile Section -->
        <section id="profile" class="page">
            <h1>Your Profile</h1>
            <div id="profileInfo" class="profile-info">
                <!-- Profile info will be loaded here -->
            </div>
            <div class="button-grid">
                  <button onclick="showPage('medicine')" class="btn secondary">Add Medicine</button>
                  <button onclick="displayUpcomingReminders()" class="btn secondary">View Reminders</button>
                  <button onclick="window.location.href='esp8266.html'" class="btn secondary">ESP8266 Integration</button>
                  <button onclick="logout()" class="btn secondary">Logout</button>
                  <button onclick="window.location.href='notification-settings.html'" class="btn secondary">Notification Settings</button>
              </div>
        </section>

        <!-- Upcoming Reminders Section -->
        <section id="upcomingReminders" class="page">
            <h1>Upcoming Reminders</h1>
            <div id="upcomingRemindersList"></div>
            <button onclick="showPage('profile')" class="btn secondary">Back to Profile</button>
        </section>
    </main>

    <script src="script.js"></script>
    <!-- Add this to your HTML file, preferably right before the closing </body> tag -->
<div id="notification-permission-banner" style="display: none;" class="notification-banner">
  <div class="notification-banner-content">
    <h3>Enable Notifications</h3>
    <p>Allow notifications to receive medicine reminders at the scheduled times.</p>
    <button id="enable-notifications" class="btn primary">Enable Notifications</button>
    <button id="dismiss-banner" class="btn secondary">Dismiss</button>
  </div>
</div>

<script>
  // Show notification banner if permission is not granted
  document.addEventListener("DOMContentLoaded", function() {
    if ("Notification" in window && Notification.permission !== "granted" && Notification.permission !== "denied") {
      document.getElementById("notification-permission-banner").style.display = "block";
      
      // Add event listeners to buttons
      document.getElementById("enable-notifications").addEventListener("click", requestNotificationPermission);
      document.getElementById("dismiss-banner").addEventListener("click", function() {
        document.getElementById("notification-permission-banner").style.display = "none";
      });
    }
  });
</script>

<style>
  .notification-banner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background-color: #1b7a3d;
    color: white;
    padding: 1rem;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  }
  
  .notification-banner-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 1rem;
  }
  
  .notification-banner h3 {
    margin: 0;
    font-size: 1.2rem;
  }
  
  .notification-banner p {
    margin: 0;
    flex-grow: 1;
  }
  
  @media (max-width: 768px) {
    .notification-banner-content {
      flex-direction: column;
      align-items: flex-start;
    }
  }
</style>
</body>
</html>

